{
  "active": true,
  "connections": {
    "On form submission": {
      "main": [
        [
          {
            "node": "Research Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "BookSummary Subworkflow": {
      "main": [
        [
          {
            "node": "Execution Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Research Request": {
      "main": [
        [
          {
            "node": "Set Variables",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Page": {
      "main": [
        [
          {
            "node": "End Form",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Execution Data": {
      "main": [
        [
          {
            "node": "JobType Router",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "JobType Router": {
      "main": [
        [
          {
            "node": "Set Initial Query",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "BookSummary Control",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Initial Query": {
      "main": [
        [
          {
            "node": "Generate Summaries",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Initiate BookSummary": {
      "main": [
        []
      ]
    },
    "Set Next Queries": {
      "main": [
        [
          {
            "node": "Generate Summaries",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Summaries": {
      "main": [
        [
          {
            "node": "Set Current Step",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Should Stop ?": {
      "main": [
        [
          {
            "node": "Format Result",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Set Next Queries",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          },
          {
            "node": "AI Agent1",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          },
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Anthropic Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "BookSummary Control",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Tags to Items": {
      "main": [
        [
          {
            "node": "Notion Block Generator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML to Array": {
      "main": [
        [
          {
            "node": "Tags to Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Notion Block Generator": {
      "main": [
        [
          {
            "node": "Parse JSON blocks",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Notion Block Generator",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Parse JSON blocks": {
      "main": [
        [
          {
            "node": "Valid Blocks",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Valid Blocks": {
      "main": [
        [
          {
            "node": "For Each Block...",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "For Each Block...": {
      "main": [
        [
          {
            "node": "Add page cover image",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Add blocks to Notion Page",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Variables": {
      "main": [
        [
          {
            "node": "Create Page",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Result": {
      "main": [
        [
          {
            "node": "Generate Report",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set Current Step": {
      "main": [
        [
          {
            "node": "Should Stop ?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to HTML": {
      "main": [
        [
          {
            "node": "Insert image column",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "BookSummary Control": {
      "main": [
        [
          {
            "node": "Get book cover img",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "End Form": {
      "main": [
        [
          {
            "node": "Initiate BookSummary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Insert image column": {
      "main": [
        [
          {
            "node": "HTML to Array",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Map imageUrl": {
      "main": [
        [
          {
            "node": "Convert to HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get book cover img": {
      "main": [
        [
          {
            "node": "Map imageUrl",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add blocks to Notion Page": {
      "main": [
        [
          {
            "node": "For Each Block...",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-03-16T15:26:28.850Z",
  "id": "U7BPeL1dh0KFg0KZ",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Book Summary",
  "nodes": [
    {
      "parameters": {
        "formTitle": " bookSummary",
        "formDescription": "=Book Summary est un outil qui permet de cr√©er le r√©sum√© d'un lvire.\n\nComment l'utiliser ?\nFournissez le nom de l'auteur et le titre du livre.\n\nCe workflow est con√ßu pour s'ex√©cuter de mani√®re autonome. Une fois termin√©, le r√©sum√© est sauvegard√© dans une page Notion.",
        "formFields": {
          "values": [
            {
              "fieldType": "html"
            }
          ]
        },
        "options": {
          "buttonLabel": "Next",
          "path": "bookSummary",
          "ignoreBots": true
        }
      },
      "id": "cd90e666-7397-4c8d-8f50-33e38b34ffaf",
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        820,
        -20
      ],
      "webhookId": "ce545434-e845-4fed-8d5b-bbdba30e40a7",
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "pageId"
            },
            {
              "name": "data",
              "type": "object"
            },
            {
              "name": "jobType"
            }
          ]
        }
      },
      "id": "8a1b7010-d07b-4ff5-b828-75ff471a1848",
      "name": "BookSummary Subworkflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        -20,
        940
      ],
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "operation": "completion",
        "completionTitle": "Merci d'utiliser BookSummary.",
        "completionMessage": "Vous pouvez fermer la fen√™tre.",
        "options": {}
      },
      "type": "n8n-nodes-base.form",
      "typeVersion": 1,
      "position": [
        1740,
        -20
      ],
      "id": "a75ed419-8e62-471b-99ee-45891119cf0d",
      "name": "End Form",
      "webhookId": "013ee839-a386-49fb-805e-23634f837908"
    },
    {
      "parameters": {
        "formFields": {
          "values": [
            {
              "fieldLabel": "Titre",
              "placeholder": "Titre du livre",
              "requiredField": true
            },
            {
              "fieldLabel": "Auteur",
              "placeholder": "Nom de l'auteur",
              "requiredField": true
            }
          ]
        },
        "options": {
          "formTitle": "BookSummary"
        }
      },
      "type": "n8n-nodes-base.form",
      "typeVersion": 1,
      "position": [
        1020,
        -20
      ],
      "id": "f9a924c2-94e8-4488-b3d8-7b0fa919c853",
      "name": "Research Request",
      "webhookId": "e5cd24b3-9833-4d7c-ac4c-f2d6b53a959d"
    },
    {
      "parameters": {
        "pageId": {
          "__rl": true,
          "value": "https://www.notion.so/Ma-biblioth-que-1b582fe2640680f7bc10ea713f4e6aba",
          "mode": "url"
        },
        "title": "={{ $json.title }} - {{ $json.author }}",
        "options": {
          "icon": "üìò"
        }
      },
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [
        1420,
        -20
      ],
      "id": "c27bcab8-2974-4d16-9ece-0e6f1194efb7",
      "name": "Create Page",
      "credentials": {
        "notionApi": {
          "id": "6bjg4ALH6fniuwyE",
          "name": "Notion account"
        }
      }
    },
    {
      "parameters": {
        "dataToSave": {
          "values": [
            {
              "key": "pageId",
              "value": "={{ $json.pageId }}"
            },
            {
              "key": "jobType",
              "value": "={{ $json.jobType }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executionData",
      "typeVersion": 1,
      "position": [
        200,
        940
      ],
      "id": "7e2f27eb-e22d-4c12-ae0b-4d6b7f74c932",
      "name": "Execution Data"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.jobType }}",
                    "rightValue": "initiate",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "8b33c762-5b1c-41c1-829e-d8ef9c903e79"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "adebb414-35eb-4694-b494-c7a713c2572b",
                    "leftValue": "={{ $json.jobType }}",
                    "rightValue": "summaries",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "193fc70b-dd38-4fc7-be56-cafb5b3cf62e",
                    "leftValue": "={{ $json.jobType }}",
                    "rightValue": "report",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        420,
        940
      ],
      "id": "654ac2db-ec29-4c0d-aeca-e00010227efd",
      "name": "JobType Router"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "acb41e93-70c6-41a3-be0f-e5a74ec3ec88",
              "name": "query",
              "type": "string",
              "value": "={{ $('JobType Router').first().json.data.query }} 1"
            },
            {
              "id": "7fc54063-b610-42bc-a250-b1e8847c4d1e",
              "name": "summaries",
              "type": "array",
              "value": "={{ $('JobType Router').first().json.data.summaries }}"
            }
          ]
        },
        "options": {}
      },
      "id": "7c559504-4c6f-4ae3-a33b-41bec408adc1",
      "name": "Set Initial Query",
      "type": "n8n-nodes-base.set",
      "position": [
        820,
        340
      ],
      "typeVersion": 3.4,
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "={{ $workflow.id }}",
          "mode": "id"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "data": "={{ \n  {\n    \"query\": `Titre: ${$('Set Variables').first().json.title} - Auteur: ${$('Set Variables').first().json.author}. Etape:`,\n    \"summaries\": []\n  }\n}}",
            "pageId": "={{ $json.id }}",
            "jobType": "initiate"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "pageId",
              "displayName": "pageId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "data",
              "displayName": "data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "object",
              "removed": false
            },
            {
              "id": "jobType",
              "displayName": "jobType",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "mode": "each",
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        1940,
        -20
      ],
      "id": "bc1b0ceb-3a42-48aa-b998-cf40657a667a",
      "name": "Initiate BookSummary"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "d88bfe95-9e73-4d25-b45c-9f164b940b0e",
              "name": "query",
              "type": "string",
              "value": "={{ `${$('JobType Router').first().json.data.query} ${$json.currentStep + 1}` }}"
            }
          ]
        },
        "options": {}
      },
      "id": "35d089ff-4ee6-458e-9354-5c440aa4357c",
      "name": "Set Next Queries",
      "type": "n8n-nodes-base.set",
      "position": [
        1740,
        480
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "={{ $workflow.id }}",
          "mode": "id"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "pageId": "={{ $json.pageId }}",
            "data": "={{ $json.data }}",
            "jobType": "={{ $json.jobType }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "pageId",
              "displayName": "pageId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "data",
              "displayName": "data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "object",
              "removed": false
            },
            {
              "id": "jobType",
              "displayName": "jobType",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {
          "waitForSubWorkflow": false
        }
      },
      "id": "a0f37de9-44ec-4824-b640-09029665e947",
      "name": "Generate Report",
      "type": "n8n-nodes-base.executeWorkflow",
      "position": [
        1940,
        240
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "={{ $workflow.id }}",
          "mode": "id"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "pageId": "={{ $('JobType Router').first().json.pageId }}",
            "data": "={{ $json }}",
            "jobType": "summaries"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "pageId",
              "displayName": "pageId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string"
            },
            {
              "id": "data",
              "displayName": "data",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "object"
            },
            {
              "id": "jobType",
              "displayName": "jobType",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "mode": "each",
        "options": {
          "waitForSubWorkflow": true
        }
      },
      "id": "de2050ab-04e2-4398-8e96-0524554ee94c",
      "name": "Generate Summaries",
      "type": "n8n-nodes-base.executeWorkflow",
      "position": [
        1020,
        340
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "75d18d88-6ba6-43df-bef7-3e8ad99ad8bd",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              },
              "leftValue": "={{ $json.currentStep >= 7 }}",
              "rightValue": ""
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "4589cefe-0c05-4d95-bff5-4e6eef48a570",
      "name": "Should Stop ?",
      "type": "n8n-nodes-base.if",
      "position": [
        1420,
        340
      ],
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Etant donn√© la requ√™te suivante: <query>{{ $json.query }}</query>, g√©nere le r√©sum√© d√©fini par l'√©tape pour le livre mentionn√©.\n\n** Tr√®s important **\n- Assure toi de respecter scrupuleusement le format de sortie attendu.\n- Retourne moi uniquement la partie mentionn√© dans l'√©tape et rien d'autre.\n\nPar exemple: Si tu vois \"Etape: 4\", retounre moi la partie sur \"# 4. M√©thodologie et preuves\" en suivant les instructions tel que mentionn√© dans ton system prompt.\n\nFormat de sortie:\n<output>\nmodelName: indique \"gpt\"\ncontent: indique ici le r√©sum√©\n</output>",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "={{ $json.systemPrompt }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1080,
        780
      ],
      "id": "30488868-7310-4a40-baf5-5e59b3867b65",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "o3-mini",
          "mode": "list",
          "cachedResultName": "o3-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1080,
        940
      ],
      "id": "ae172d81-f908-4c35-b87d-c9a5de004dac",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "PmqmzdRFH1SO1Yvi",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"modelName\": \"name\",\n  \"content\": \"Le r√©sum√© de l'√©tape\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        1320,
        940
      ],
      "id": "2fe866a2-ab1c-4259-aef5-73ee51ef6a3e",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "8329cf5f-9642-4de1-b0cf-9c10ab94e2fc",
              "name": "systemPrompt",
              "value": "=# üìñ Prompt pour g√©n√©rer des fiches de lecture d√©taill√©es\n\n## üéØ Contexte  \nTu vas r√©diger une **fiche de lecture structur√©e** sur un livre d'√©conomie, de d√©veloppement personnel ou un roman.  \nL'objectif est d'analyser l'ouvrage en profondeur, en mettant en avant ses **id√©es principales**, sa **m√©thodologie**, son **impact** et une **r√©flexion personnelle**.  \n\nLe but est d'obtenir une fiche utile pour se rappeler des points essentiels, mais aussi pour partager avec d'autres personnes int√©ress√©es par le sujet.  \n\n## üìù Instructions pour g√©n√©rer la fiche  \n\nR√©dige une fiche de lecture compl√®te en respectant les √©tapes suivantes :  \n\n---\n\n## 1. Informations g√©n√©rales  \n\n- **Titre** :  \n- **Auteur** :  \n- **√âditeur** :  \n- **Ann√©e de publication** :  \n\n### üìå Contexte historique et intellectuel \n  > Ex. *Le Cygne Noir* de Nassim Taleb s'inscrit dans la pens√©e critique sur la gestion des risques et l'incertitude, en opposition aux mod√®les pr√©dictifs classiques utilis√©s en finance.*\n\n---\n\n## 2. Th√®se et objectifs  \n\n### ‚ùì Probl√©matique centrale  \n> Quelle question l‚Äôauteur cherche-t-il √† r√©soudre ?  \n> *Ex. Taleb explore comment les √©v√©nements rares et impr√©visibles ont un impact majeur sur nos vies et notre √©conomie.*\n\n### üéØ Objectifs de l‚Äôauteur  \n- Quelle nouvelle perspective apporte l‚Äôauteur ?  \n- Quels changements de pens√©e ou d‚Äôaction veut-il provoquer chez le lecteur ?  \n  > *Ex. Dans* La Semaine de 4 heures *, Tim Ferriss propose une approche r√©volutionnaire du travail qui encourage √† automatiser ses revenus et √† r√©duire le temps consacr√© au travail salari√©.*\n\n---\n\n## 3. Structure et arguments  \n\n### üìö Plan du livre  \nR√©sum√© rapide de l'organisation du livre :  \n- **Nombre de chapitres / parties**  \n- **Logique de progression**  \n\n### üîë Points cl√©s  \nIdentification des id√©es majeures et concepts principaux :  \n- **Ex. Le Cygne Noir** : le r√¥le des √©v√©nements impr√©vus, la distinction entre M√©diocristan et Extremistan.  \n- **Ex. La Semaine de 4h** : la loi de Pareto (80/20), l'automatisation du revenu.  \n\n---\n\n## 4. M√©thodologie et preuves  \n\n### üìñ Sources et exemples utilis√©s  \nL‚Äôauteur s‚Äôappuie-t-il sur des √©tudes de cas, des statistiques, des t√©moignages ?  \n> Ex. *Taleb illustre son propos avec des √©v√©nements historiques comme la crise financi√®re de 2008, d√©montrant comment les mod√®les √©conomiques classiques √©chouent √† pr√©voir les crises.*\n\n### üîç Analyse critique  \n- **Les arguments sont-ils convaincants ?**  \n- **Y a-t-il des biais, des lacunes, des √©l√©ments contestables ?**  \n> Ex. *Certains reprochent √† Taleb un manque de solutions concr√®tes et une tendance √† l‚Äôexag√©ration.*  \n\n---\n\n## 5. Implications et applications pratiques  \n\n### üåç Impact des id√©es  \nComment appliquer les concepts propos√©s dans la vie r√©elle ?  \n> *Ex. Pour un entrepreneur, la gestion du risque selon Taleb peut inspirer une strat√©gie d‚Äôinvestissement prudente bas√©e sur l‚Äôanti-fragilit√©.*  \n\n### üîÑ Comparaison avec d‚Äôautres approches  \n- Quelles th√©ories ou auteurs proposent des id√©es similaires ou oppos√©es ?  \n- Existe-t-il d‚Äôautres moyens de r√©pondre √† la probl√©matique ?  \n\n---\n\n## 6. R√©flexion personnelle  \n\n### üí° Impressions et questionnements  \nQu‚Äôest-ce qui vous a marqu√© ? Trouvez-vous le livre pertinent, innovant, discutable ?  \n\n### üèÜ Pertinence personnelle  \n- En quoi cet ouvrage vous impacte-t-il ?  \n- Change-t-il votre mani√®re de penser ou d‚Äôagir ?  \n\n---\n\n## 7. Conclusion et synth√®se  \n\n### üîÅ R√©capitulatif des id√©es essentielles  \nSynth√®se en quelques phrases des **id√©es majeures**, **arguments cl√©s**, et **impact** du livre.  \n\n### üåü Ouverture  \n- Pourquoi ce livre est important dans son domaine ?  \n- Quelle r√©flexion plus large cela ouvre-t-il ?  \n- Quelles autres lectures pourraient compl√©ter cette analyse ?  \n\n---\n\n## üìå Structuration et mise en forme recommand√©es  \n\n- **Sections principales (H1 `##`)** ‚Üí Suivent les grandes √©tapes de la fiche  \n- **Sous-sections (H3 `###`)** ‚Üí D√©tail des √©l√©ments de chaque √©tape  \n- **Citations du livre** ‚Üí Utiliser les blocs `>` pour mettre en valeur des extraits  \n- **Listes √† puces** ‚Üí Pour les id√©es cl√©s  \n- **Exemples en italique** ‚Üí Pour donner du contexte  \n\n---\n\nüéØ **Objectif final** : Obtenir une fiche de lecture bien structur√©e, synth√©tique et facile √† relire.",
              "type": "string"
            },
            {
              "id": "8ec2711a-c778-4d2f-ab26-08d6696964a6",
              "name": "query",
              "value": "={{ $('JobType Router').first().json.data.query.trim() }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        820,
        940
      ],
      "id": "940c5eca-c939-43b2-ae72-9115d730a203",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Etant donn√© la requ√™te suivante: <query>{{ $json.query }}</query>, g√©nere le r√©sum√© d√©fini par l'√©tape pour le livre mentionn√©.\n\n** Tr√®s important **\n- Assure toi de respecter scrupuleusement le format de sortie attendu.\n- Retourne moi uniquement la partie mentionn√© dans l'√©tape et rien d'autre.\n\nPar exemple: Si tu vois \"Etape: 4\", retounre moi la partie sur \"# 4. M√©thodologie et preuves\" en suivant les instructions tel que mentionn√© dans ton system prompt.\n\nFormat de sortie:\n<output>\nmodelName: indique \"claude\"\ncontent: indique ici le r√©sum√©\n</output>",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "={{ $json.systemPrompt }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1080,
        1080
      ],
      "id": "0c59c535-edea-4932-a352-8e30bd41e804",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "model": "claude-3-5-sonnet-20241022",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1.2,
      "position": [
        1080,
        1220
      ],
      "id": "83cdf1b6-4a9f-4aab-b02d-c75a3bd89ec7",
      "name": "Anthropic Chat Model",
      "credentials": {
        "anthropicApi": {
          "id": "yeLIK0R1OKDySeyH",
          "name": "Anthropic account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        1580,
        920
      ],
      "id": "28585432-f193-44b6-9882-5856077d8e65",
      "name": "Merge"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Liste des r√©sum√©s sur lesquels tu dois perform√© le contr√¥le et le formatage:\n{{\n  $('JobType Router').first().json.data.summaries &&\n  `<summaries>\n    ${$('JobType Router').first().json.data.summaries.map(summaryItem => \n      `<step>${summaryItem.step}</step>\n        ${summaryItem.summary.map(item => \n          `<summary>\n            <model>${item.modelName}</model>\n            <content>${item.content}</content>\n          </summary>`\n        ).join('\\n')}`\n    ).join('\\n')}\n  </summaries>`\n}}\n",
        "messages": {
          "messageValues": [
            {
              "message": "=# Agent de Contr√¥le et Formatage des R√©sum√©s de Livres\n\n## Contexte\nTu es un agent sp√©cialis√© dans l'analyse, la fusion et le formatage des r√©sum√©s de livres g√©n√©r√©s par deux mod√®les d'IA diff√©rents (GPT et Claude). Ces r√©sum√©s suivent une structure pr√©d√©finie en 7 parties pour cr√©er une fiche de lecture compl√®te.\n\n## Objectif\nCr√©er une version unifi√©e, non-redondante et correctement format√©e du r√©sum√© de livre en exploitant les meilleures contributions de chaque mod√®le pour chaque section.\n\n## Don√©es d'entr√©e\nTu recevras une collection de r√©sum√©s structur√©s comme suit:\n<summaries>\n  <step>: Indique la partie dans laquelle on se trouve.\n  <summary>\n    <model>: Indique le mod√®le LLM utilis√© pour cr√©er la partie.\n    <content>: Le contenu de la partie.\n  </summary>\n</summaries>\n\n## Instructions\n\n### 1. Analyse et s√©lection du contenu\nPour chaque section du r√©sum√© (1 √† 7):\n- Compare les versions fournies par gpt et claude\n- Identifie les informations uniques et pertinentes dans chaque version\n- S√©lectionne les √©l√©ments les plus complets, pr√©cis et bien formul√©s\n- √âvite toute redondance ou r√©p√©tition d'information\n\n### 2. Fusion intelligente\n- Ne te contente pas de concat√©ner les informations, mais fusionne-les de mani√®re coh√©rente\n- Pr√©serve les informations distinctives et compl√©mentaires de chaque source\n- Assure une transition fluide entre les √©l√©ments de diff√©rentes sources\n- Maintiens un ton et un style coh√©rents dans l'ensemble du document\n\n### 3. V√©rification de la structure\nAssure-toi que le r√©sum√© final respecte rigoureusement la structure suivante:\n1. **Informations g√©n√©rales**\n   - Donn√©es bibliographiques\n   - Contexte historique et intellectuel\n2. **Th√®se et objectifs**\n   - Probl√©matique centrale\n   - Objectifs de l'auteur\n3. **Structure et arguments**\n   - Plan du livre\n   - Points cl√©s\n4. **M√©thodologie et preuves**\n   - Sources et exemples\n   - Analyse critique\n5. **Implications et applications pratiques**\n   - Impact des id√©es\n   - Comparaison avec d'autres approches\n6. **R√©flexion personnelle**\n   - Impressions et questionnements\n   - Pertinence personnelle\n7. **Conclusion et synth√®se**\n   - R√©capitulatif des id√©es essentielles\n   - Ouverture\n\n### 4. Formatage Markdown\n- Utilise le format Markdown de mani√®re rigoureuse:\n  - Sections principales (H1) avec `#` pour les 7 grandes parties\n  - Sous-sections (H3) avec `###` pour les d√©tails de chaque partie\n  - Citations en blocs `>` pour les extraits du livre\n  - Listes √† puces `-` pour les concepts et id√©es cl√©s\n  - *Italique* pour les exemples et illustrations\n  - **Gras** pour les concepts importants\n\nPour la partie Donn√©es bibliographiques:\nFournir uniquement liste qui contient: titre, auteur, √©diteur, ann√©e.\nNe pas indiquer \"Donn√©es bibliographiques\" comme titre, mais simplement la liste avec le champs en gras et la valeur normal (par exemple: **Titre** : Valeur). \n\n### 5. V√©rification finale\n- Assure-toi que toutes les sections sont pr√©sentes et substantielles\n- V√©rifie que le formatage Markdown est correct et coh√©rent\n- Garantis que le document final est bien structur√©, informatif et agr√©able √† lire\n- √âlimine toute redondance ou r√©p√©tition inutile\n\n## Format de sortie\nFournis uniquement le r√©sum√© final en Markdown correctement format√©, sans ajouter de commentaires ou d'explications sur le processus utilis√©."
            }
          ]
        }
      },
      "id": "95223fbd-d1c8-404d-8fc7-925a28339e23",
      "name": "BookSummary Control",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        820,
        1460
      ],
      "typeVersion": 1.5
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "o3-mini",
          "mode": "list",
          "cachedResultName": "o3-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        840,
        1600
      ],
      "id": "11c2ffd9-ff17-499a-b183-d41ea31ab59c",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "PmqmzdRFH1SO1Yvi",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "fieldToSplitOut": "tag",
        "options": {}
      },
      "id": "18eda98d-8547-4a74-86c7-e85a1559477b",
      "name": "Tags to Items",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        1720,
        1680
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "mode": "markdownToHtml",
        "markdown": "={{ $('BookSummary Control').item.json.text }}",
        "options": {
          "tables": true
        }
      },
      "id": "7587f776-6d6f-463d-ab08-4ba07cca47bb",
      "name": "Convert to HTML",
      "type": "n8n-nodes-base.markdown",
      "position": [
        1460,
        1460
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "851b8a3f-c2d3-41ad-bf60-4e0e667f6c58",
              "name": "tag",
              "type": "array",
              "value": "={{ $json.data.match(/<div style=\"display: flex[^>]*>[\\s\\S]*?<\\/div>|<h[1-3][^>]*>[\\s\\S]*?(?=<h[1-3]|$)/g) }}"
            }
          ]
        },
        "options": {}
      },
      "id": "d94f6c04-b46e-4347-b2a0-09a5bb680d94",
      "name": "HTML to Array",
      "type": "n8n-nodes-base.set",
      "position": [
        1720,
        1460
      ],
      "typeVersion": 3.4
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.tag.trim() }}",
        "messages": {
          "messageValues": [
            {
              "message": "=Convertis le HTML suivant en son √©quivalent de Bloc Notion selon le sch√©ma API de Notion.\n* Assure-toi que le contenu est toujours inclus et reste le m√™me.\n* Renvoie uniquement une r√©ponse JSON.\n* G√©n√®re des blocs de niveau enfant. Ne d√©finis pas de propri√©t√© \"parent\" ou \"children\".\n* Privil√©gie fortement les titres, paragraphes, tableaux et des blocs de listes.\n* Les titres disponibles sont heading_1, heading_2 et heading_3 - h4, h5, h6 doivent utiliser le type heading_3 √† la place. Assure-toi que les titres utilisent la d√©finition de texte enrichi.\n* Assure-toi que les blocs de listes incluent tous les √©l√©ments de la liste.\n* Retire les sauts de ligne (\\n) inutiles.\n\n## Exemples\n\n1. Titres\n```\n<h3 id=\"references\">References</h3>\n```\nse convertirait en\n```\n{\"object\":  \"block\", \"type\": \"heading_3\", \"heading_3\": { \"rich_text\": [{\"type\": \"text\",\"text\": {\"content\": \"References\"}}]}}\n```\n\n2. Listes\n```\n<ul><li><strong>hello</strong></li><li>world</li></ul>\n```\nse convertirait en\n```\n[\n{\n  \"object\": \"block\",\n  \"type\": \"bulleted_list_item\",\n  \"bulleted_list_item\": {\"rich_text\": [{\"type\": \"text\",\"text\": {\"content\": \"hello\"}, \"annotations\": {\"bold\": true}}]}\n},\n{\n  \"object\": \"block\",\n  \"type\": \"bulleted_list_item\",\n  \"bulleted_list_item\": {\"rich_text\": [{\"type\": \"text\",\"text\": {\"content\": \"world\"}}]}\n}\n]\n```\n\n3. Tableaux\n```\n<table>\n  <thead>\n    <tr><th>Technology</th><th>Potential Impact</th></tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>5G Connectivity</td><td>Enables faster data speeds and advanced apps</td>\n    </tr>\n  </tbody>\n</table>\n```\nse convertirait en\n```\n{\n  \"object\": \"block\",\n  \"type\": \"table\",\n  \"table\": {\n    \"table_width\": 2,\n    \"has_column_header\": true,\n    \"has_row_header\": false,\n    \"children\": [\n      {\n        \"object\": \"block\",\n        \"type\": \"table_row\",\n        \"table_row\": {\n          \"cells\": [\n            [\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"Technology\",\n                  \"link\": null\n                }\n              },\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"Potential Impact\",\n                  \"link\": null\n                }\n              }\n            ],\n            [\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"5G Connectivity\",\n                  \"link\": null\n                }\n              },\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"Enables faster data speeds and advanced apps\",\n                  \"link\": null\n                }\n              }\n            ]\n          ]\n        }\n      }\n    ]\n  }\n}\n```\n\n4. Liens d'ancrage\nPuisque Notion ne prend pas en charge les liens d'ancrage, convertis-les simplement en blocs de texte enrichi √† la place.\n```\n<a href=\"#module-0-pre-course-setup-and-learning-principles\">Module 0: Pre-Course Setup and Learning Principles</a>\n```\nse convertit en\n```\n{\n  \"object\": \"block\",\n  \"type\": \"paragraph\",\n  \"paragraph\": {\n    \"rich_text\": [\n      {\n        \"type\": \"text\",\n        \"text\": {\n          \"content\": \"Module 0: Pre-Course Setup and Learning Principles\"\n        }\n      }\n    ]\n  }\n}\n```\n\n5. Parties HTML invalides\nLorsque le HTML n'est pas syntaxiquement valide, par ex. des balises de fermeture orphelines, ignore simplement la conversion et utilise un bloc de texte enrichi vide.\n```\n</li>\\n</ol>\n```\npeut √™tre remplac√© par\n```\n{\n  \"object\": \"block\",\n  \"type\": \"paragraph\",\n  \"paragraph\": {\n    \"rich_text\": [\n      {\n        \"type\": \"text\",\n        \"text\": {\n          \"content\": \" \"\n        }\n      }\n    ]\n  }\n}\n```\nConvertis le HTML suivant en son √©quivalent de Bloc Notion selon le sch√©ma API de Notion.\n* Assure-toi que le contenu est toujours inclus et reste le m√™me.\n* Renvoie uniquement une r√©ponse JSON.\n* G√©n√®re des blocs de niveau enfant. Ne d√©finis pas de propri√©t√© \"parent\" ou \"children\".\n* Privil√©gie fortement les titres, paragraphes, tableaux et des blocs de listes.\n* Les titres disponibles sont heading_1, heading_2 et heading_3 - h4, h5, h6 doivent utiliser le type heading_3 √† la place. Assure-toi que les titres utilisent la d√©finition de texte enrichi.\n* Assure-toi que les blocs de listes incluent tous les √©l√©ments de la liste.\n\n## Exemples\n\n1. Titres\n```\n<h3 id=\"references\">References</h3>\n```\nse convertirait en\n```\n{\"object\":  \"block\", \"type\": \"heading_3\", \"heading_3\": { \"rich_text\": [{\"type\": \"text\",\"text\": {\"content\": \"References\"}}]}}\n```\n\n2. Listes\n```\n<ul><li>hello</li><li>world</li></ul>\n```\nse convertirait en\n```\n[\n{\n  \"object\": \"block\",\n  \"type\": \"bulleted_list_item\",\n  \"bulleted_list_item\": {\"rich_text\": [{\"type\": \"text\",\"text\": {\"content\": \"hello\"}}]}\n},\n{\n  \"object\": \"block\",\n  \"type\": \"bulleted_list_item\",\n  \"bulleted_list_item\": {\"rich_text\": [{\"type\": \"text\",\"text\": {\"content\": \"world\"}}]}\n}\n]\n```\n\n3. Tableaux\n```\n<table>\n  <thead>\n    <tr><th>Technology</th><th>Potential Impact</th></tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>5G Connectivity</td><td>Enables faster data speeds and advanced apps</td>\n    </tr>\n  </tbody>\n</table>\n```\nse convertirait en\n```\n{\n  \"object\": \"block\",\n  \"type\": \"table\",\n  \"table\": {\n    \"table_width\": 2,\n    \"has_column_header\": true,\n    \"has_row_header\": false,\n    \"children\": [\n      {\n        \"object\": \"block\",\n        \"type\": \"table_row\",\n        \"table_row\": {\n          \"cells\": [\n            [\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"Technology\",\n                  \"link\": null\n                }\n              },\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"Potential Impact\",\n                  \"link\": null\n                }\n              }\n            ],\n            [\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"5G Connectivity\",\n                  \"link\": null\n                }\n              },\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"Enables faster data speeds and advanced apps\",\n                  \"link\": null\n                }\n              }\n            ]\n          ]\n        }\n      }\n    ]\n  }\n}\n```\n\n4. Liens d'ancrage\nPuisque Notion ne prend pas en charge les liens d'ancrage, convertis-les simplement en blocs de texte enrichi √† la place.\n```\n<a href=\"#module-0-pre-course-setup-and-learning-principles\">Module 0: Pre-Course Setup and Learning Principles</a>\n```\nse convertit en\n```\n{\n  \"object\": \"block\",\n  \"type\": \"paragraph\",\n  \"paragraph\": {\n    \"rich_text\": [\n      {\n        \"type\": \"text\",\n        \"text\": {\n          \"content\": \"Module 0: Pre-Course Setup and Learning Principles\"\n        }\n      }\n    ]\n  }\n}\n```\n\n5. Parties HTML invalides\nLorsque le HTML n'est pas syntaxiquement valide, par ex. des balises de fermeture orphelines, ignore simplement la conversion et utilise un bloc de texte enrichi vide.\n```\n</li>\\n</ol>\n```\npeut √™tre remplac√© par\n```\n{\n  \"object\": \"block\",\n  \"type\": \"paragraph\",\n  \"paragraph\": {\n    \"rich_text\": [\n      {\n        \"type\": \"text\",\n        \"text\": {\n          \"content\": \" \"\n        }\n      }\n    ]\n  }\n}\n```\n\nConvertis le HTML suivant en son √©quivalent de Bloc Notion selon le sch√©ma API de Notion.\n* Assure-toi que le contenu est toujours inclus et reste le m√™me.\n* Renvoie uniquement une r√©ponse JSON.\n* G√©n√®re des blocs de niveau enfant. Ne d√©finis pas de propri√©t√© \"parent\" ou \"children\".\n* Privil√©gie fortement les titres, paragraphes, tableaux et des blocs de listes.\n* Les titres disponibles sont heading_1, heading_2 et heading_3 - h4, h5, h6 doivent utiliser le type heading_3 √† la place. Assure-toi que les titres utilisent la d√©finition de texte enrichi.\n* Assure-toi que les blocs de listes incluent tous les √©l√©ments de la liste.\n\n## Exemples\n\n1. Titres\n```\n<h3 id=\"references\">References</h3>\n```\nse convertirait en\n```\n{\"object\":  \"block\", \"type\": \"heading_3\", \"heading_3\": { \"rich_text\": [{\"type\": \"text\",\"text\": {\"content\": \"References\"}}]}}\n```\n\n2. Listes\n```\n<ul><li>hello</li><li>world</li></ul>\n```\nse convertirait en\n```\n[\n{\n  \"object\": \"block\",\n  \"type\": \"bulleted_list_item\",\n  \"bulleted_list_item\": {\"rich_text\": [{\"type\": \"text\",\"text\": {\"content\": \"hello\"}}]}\n},\n{\n  \"object\": \"block\",\n  \"type\": \"bulleted_list_item\",\n  \"bulleted_list_item\": {\"rich_text\": [{\"type\": \"text\",\"text\": {\"content\": \"world\"}}]}\n}\n]\n```\n\n3. Tableaux\n```\n<table>\n  <thead>\n    <tr><th>Technology</th><th>Potential Impact</th></tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>5G Connectivity</td><td>Enables faster data speeds and advanced apps</td>\n    </tr>\n  </tbody>\n</table>\n```\nse convertirait en\n```\n{\n  \"object\": \"block\",\n  \"type\": \"table\",\n  \"table\": {\n    \"table_width\": 2,\n    \"has_column_header\": true,\n    \"has_row_header\": false,\n    \"children\": [\n      {\n        \"object\": \"block\",\n        \"type\": \"table_row\",\n        \"table_row\": {\n          \"cells\": [\n            [\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"Technology\",\n                  \"link\": null\n                }\n              },\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"Potential Impact\",\n                  \"link\": null\n                }\n              }\n            ],\n            [\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"5G Connectivity\",\n                  \"link\": null\n                }\n              },\n              {\n                \"type\": \"text\",\n                \"text\": {\n                  \"content\": \"Enables faster data speeds and advanced apps\",\n                  \"link\": null\n                }\n              }\n            ]\n          ]\n        }\n      }\n    ]\n  }\n}\n```\n\n4. Liens d'ancrage\nPuisque Notion ne prend pas en charge les liens d'ancrage, convertis-les simplement en blocs de texte enrichi √† la place.\n```\n<a href=\"#module-0-pre-course-setup-and-learning-principles\">Module 0: Pre-Course Setup and Learning Principles</a>\n```\nse convertit en\n```\n{\n  \"object\": \"block\",\n  \"type\": \"paragraph\",\n  \"paragraph\": {\n    \"rich_text\": [\n      {\n        \"type\": \"text\",\n        \"text\": {\n          \"content\": \"Module 0: Pre-Course Setup and Learning Principles\"\n        }\n      }\n    ]\n  }\n}\n```\n\n5. Parties HTML invalides\nLorsque le HTML n'est pas syntaxiquement valide, par ex. des balises de fermeture orphelines, ignore simplement la conversion et utilise un bloc de texte enrichi vide.\n```\n</li>\\n</ol>\n```\npeut √™tre remplac√© par\n```\n{\n  \"object\": \"block\",\n  \"type\": \"paragraph\",\n  \"paragraph\": {\n    \"rich_text\": [\n      {\n        \"type\": \"text\",\n        \"text\": {\n          \"content\": \" \"\n        }\n      }\n    ]\n  }\n}\n```\n\n6. Div et images\nPour les mises en page flexibles comme <div style=\"display: flex\">, transforme-les en une s√©quence de blocs, d'abord un bloc image puis des paragraphes/listes pour maintenir le contenu dans l'ordre correct.\nPour les balises <img>, cr√©e un bloc de type \"image\" et utilise l'URL dans l'attribut \"src\" comme source externe.\n```\n<div style=\"display: flex; align-items: flex-start;\">\n  <div style=\"width: 20%;\">\n    <img src=\"https://example.com/image.jpg\" alt=\"Description\" style=\"width: 100%;\">\n  </div>\n  <div style=\"width: 80%\">\n    <ul><li>Item 1</li><li>Item 2</li></ul>\n  </div>\n</div>\n```\nse convertirait en\n```\n{\n    \"object\": \"block\",\n    \"type\": \"column_list\",\n    \"column_list\": {\n        \"children\": [\n            {\n                \"object\": \"block\",\n                \"type\": \"column\",\n                \"column\": {\n                    \"children\": [\n                        {\n                            \"object\": \"block\",\n                            \"type\": \"image\",\n                            \"image\": {\n                                \"type\": \"external\",\n                                \"external\": {\n                                    \"url\": \"https://example.com/image.jpg\"\n                                }\n                            }\n                        }\n                    ]\n                }\n            },\n            {\n                \"object\": \"block\",\n                \"type\": \"column\",\n                \"column\": {\n                    \"children\": [\n                        {\n                            \"object\": \"block\",\n                            \"type\": \"bulleted_list_item\",\n                            \"bulleted_list_item\": {\n                                \"rich_text\": [\n                                    {\n                                        \"type\": \"text\",\n                                        \"text\": {\n                                            \"content\": \"Item 1\"\n                                        }\n                                    }\n                                ]\n                            }\n                        },\n                        {\n                            \"object\": \"block\",\n                            \"type\": \"bulleted_list_item\",\n                            \"bulleted_list_item\": {\n                                \"rich_text\": [\n                                    {\n                                        \"type\": \"text\",\n                                        \"text\": {\n                                            \"content\": \"Item 2\"\n                                        }\n                                    }\n                                ]\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}\n```\n\n7. Images simples\nPour les balises <img> ind√©pendantes, cr√©e un bloc image:\n```\n<img src=\"https://example.com/photo.jpg\" alt=\"Photo\" width=\"500\">\n```\nse convertirait en\n```\n{\n    \"object\": \"block\",\n    \"type\": \"image\",\n    \"image\": {\n        \"type\": \"external\",\n        \"external\": {\n            \"url\": \"https://example.com/photo.jpg\"\n        },\n        \"caption\": [\n            {\n                \"type\": \"text\",\n                \"text\": {\n                    \"content\": \"Photo\"\n                }\n            }\n        ]\n    }\n}\n```\n"
            }
          ]
        }
      },
      "id": "6ad9ea2b-d4b4-4e05-89e9-5f6dbfaddaa4",
      "name": "Notion Block Generator",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "position": [
        2000,
        1460
      ],
      "typeVersion": 1.5
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "id": "3e3d0959-6878-417c-821b-1efcdf44ba8e",
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        2020,
        1600
      ],
      "typeVersion": 1,
      "credentials": {
        "googlePalmApi": {
          "id": "og4gMnGbp8Uy7toF",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "73fcb8a0-2672-4bd5-86de-8075e1e02baf",
              "name": "=block",
              "type": "array",
              "value": "={{\n(function(){\n  // Nettoyage complet du texte JSON\n  const cleanedJson = $json.text\n    .replace(/```json/g, '')\n    .replace(/```/g, '')\n    .replace(/\\n\\s*/g, ' ')\n    .trim();\n  \n  // Parse le JSON nettoy√©\n  let blocks = cleanedJson.parseJson();\n  blocks = Array.isArray(blocks) ? blocks : [blocks];\n  \n  // Filtrer tout bloc vide potentiel ou paragraphe contenant uniquement des espaces\n  blocks = blocks.filter(block => {\n    if (block.type === 'paragraph' && \n        block.paragraph.rich_text.length === 1 && \n        block.paragraph.rich_text[0].text.content.trim() === '') {\n      return false;\n    }\n    return true;\n  });\n  \n  return blocks;\n})()\n}}"
            }
          ]
        },
        "options": {}
      },
      "id": "2469cb35-d7d1-4896-9735-7a3c7d89e6ad",
      "name": "Parse JSON blocks",
      "type": "n8n-nodes-base.set",
      "position": [
        2320,
        1460
      ],
      "executeOnce": false,
      "typeVersion": 3.4,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "and",
          "conditions": [
            {
              "id": "f68cefe0-e109-4d41-9aa3-043f3bc6c449",
              "operator": {
                "type": "string",
                "operation": "notExists",
                "singleValue": true
              },
              "leftValue": "={{ $json.error }}",
              "rightValue": ""
            }
          ]
        },
        "options": {}
      },
      "id": "54f7750c-a63e-4aed-9f9e-5cf8e3dbea13",
      "name": "Valid Blocks",
      "type": "n8n-nodes-base.filter",
      "position": [
        2320,
        1680
      ],
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "5cf5bb63-ff00-4d2e-9757-9a1f44a380f9",
      "name": "For Each Block...",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        2600,
        1460
      ],
      "typeVersion": 3
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "56340b31-7474-4542-8c90-7b00673767a0",
              "name": "title",
              "value": "={{ $json.Titre.trim() }}",
              "type": "string"
            },
            {
              "id": "41af239e-7d0f-4388-b87c-e9534dfc7401",
              "name": "author",
              "value": "={{ $json.Auteur.trim() }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1220,
        -20
      ],
      "id": "02dff566-150b-4384-b34c-19f07107e116",
      "name": "Set Variables"
    },
    {
      "parameters": {
        "jsCode": "const maxStep = $('Set Current Step').first().json.currentStep;\nconst queryString = $('JobType Router').first().json.data.query;\nconst titleMatch = queryString.match(/Titre:\\s*(.*?)\\s*-\\s*Auteur:/i);\nconst title = titleMatch ? titleMatch[1].trim() : \"Titre inconnu\";\nconst authorMatch = queryString.match(/Auteur:\\s*(.*?)(?:\\.\\s*Etape:|\\s*$)/i);\nconst author = authorMatch ? authorMatch[1].trim() : \"Auteur inconnu\";\n\nreturn {\n  pageId: $('JobType Router').first().json.pageId,\n  jobType: \"report\",\n  data: {\n    query: `${title} - ${author}`,\n    summaries: Array(maxStep)\n      .fill(0)\n      .flatMap((_, i) => {\n        try {\n          const results = $('Generate Summaries').all(0, i);\n          if (results && results.length > 0) {\n            return [{\n              step: i + 1,\n              summary: results.map(item => ({\n                modelName: item.json.output.modelName,\n                content: item.json.output.content\n              }))\n            }];\n          }\n          return [];\n        } catch (e) {\n          return [];\n        }\n      })\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1740,
        240
      ],
      "id": "3ae7c26a-9f75-408b-9a9a-d0f084caea91",
      "name": "Format Result"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "8d1d3e13-452a-4bf5-8402-ee6450e2bfdb",
              "name": "currentStep",
              "value": "={{ $runIndex + 1 }}",
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "id": "5810db1b-82b4-4480-9d49-f81a60a28d2c",
      "name": "Set Current Step",
      "type": "n8n-nodes-base.set",
      "position": [
        1220,
        340
      ],
      "executeOnce": true,
      "typeVersion": 3.4,
      "alwaysOutputData": false
    },
    {
      "parameters": {
        "jsCode": "// Dans un n≈ìud \"Code\" ou \"Function\"\nfunction formatSummaryWithColumns(html) {\n  // 1. D'abord, corriger le HTML mal form√© o√π \"id=\" est directement coll√© √† \"</div>\"\n  let correctedHtml = html.replace(/(<\\/div>)\\s*id=\"([^\"]+)\">(.*?<\\/h[1-6]>)/g, '$1\\n<h2 id=\"$2\">$3');\n  \n  // 2. Trouver la section \"1. Informations g√©n√©rales\" sans capturer les sections suivantes\n  const section1Pattern = /<h1[^>]*>1\\.\\s*Informations g√©n√©rales[^>]*>([\\s\\S]*?)(?=<h1|$)/i;\n  const section1Match = correctedHtml.match(section1Pattern);\n  \n  if (section1Match) {\n    // 3. Cr√©er la nouvelle mise en page √† deux colonnes pour cette section\n    const imageUrl = $('Map imageUrl').first().json.imageUrl\n    const originalContent = section1Match[0].replace(/<h1[^>]*>1\\.\\s*Informations g√©n√©rales[^>]*>/i, '');\n    const newSection1 = `<h1 id=\"1informationsgnrales\">1. Informations g√©n√©rales</h1>\n    <div>\n      <div>\n        <img src=\"${imageUrl}\">\n      </div>\n      <div>\n        ${originalContent}\n      </div>\n    </div>`;\n    \n    // 4. Remplacer uniquement cette section, tout en pr√©servant le reste du document\n    correctedHtml = correctedHtml.replace(section1Pattern, newSection1);\n  }\n  \n  return correctedHtml;\n}\n\n// Appliquer la fonction au HTML d'entr√©e\nconst formattedHtml = formatSummaryWithColumns($input.first().json.data);\nreturn { data: formattedHtml };"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1460,
        1680
      ],
      "id": "e19bb151-0e6e-4ccb-b15b-29c36d1c6e39",
      "name": "Insert image column"
    },
    {
      "parameters": {
        "jsCode": "const response = $input.first().json;\n\nconst imageUrl = (response && response.images_results && response.images_results.length > 0)\n  ? response.images_results[0].original\n  : \"https://st2.depositphotos.com/2769299/7314/i/450/depositphotos_73146775-stock-photo-a-stack-of-books-on.jpg\";\n\nreturn { imageUrl };"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1200,
        1680
      ],
      "id": "0a485fd8-280f-4b74-92ec-7428becd5c20",
      "name": "Map imageUrl"
    },
    {
      "parameters": {
        "url": "https://serpapi.com/search",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "serpApi",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "q",
              "value": "={{ $('JobType Router').first().json.data.query }}"
            },
            {
              "name": "engine",
              "value": "google_images"
            }
          ]
        },
        "options": {
          "timeout": 10000
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1200,
        1460
      ],
      "id": "f4cb4b11-8635-4ef6-99f4-67658c40050d",
      "name": "Get book cover img",
      "retryOnFail": true,
      "credentials": {
        "serpApi": {
          "id": "k2IJHvKOPldK2lbd",
          "name": "SerpAPI account"
        }
      }
    },
    {
      "parameters": {
        "method": "PATCH",
        "url": "=https://api.notion.com/v1/blocks/{{ $('JobType Router').first().json.pageId }}/children",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "notionApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Notion-Version",
              "value": "2022-06-28"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{\n  {\n    \"children\": $json.block\n  }\n}}",
        "options": {
          "timeout": "={{ 1000 * 60 }}"
        }
      },
      "id": "0ace2728-1d59-4bd3-aa89-2ee825f75a3b",
      "name": "Add blocks to Notion Page",
      "type": "n8n-nodes-base.httpRequest",
      "maxTries": 2,
      "position": [
        3060,
        1620
      ],
      "retryOnFail": true,
      "typeVersion": 4.2,
      "waitBetweenTries": 3000,
      "credentials": {
        "notionApi": {
          "id": "6bjg4ALH6fniuwyE",
          "name": "Notion account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "method": "PATCH",
        "url": "=https://api.notion.com/v1/pages/{{ $('JobType Router').first().json.pageId }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "notionApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Notion-Version",
              "value": "2022-06-28"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{\n  {\n    \"cover\":{\n      \"type\": \"external\",\n      \"external\": {\n        \"url\": \"https://images.unsplash.com/photo-1526243741027-444d633d7365?ixlib=rb-4.0.3&q=85&fm=jpg&crop=entropy&cs=srgb&w=6000\"\n      }\n    }\n  }\n}}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        3060,
        1440
      ],
      "id": "14936708-8523-41f5-987b-2493400e6616",
      "name": "Add page cover image",
      "retryOnFail": false,
      "maxTries": 3,
      "credentials": {
        "notionApi": {
          "id": "6bjg4ALH6fniuwyE",
          "name": "Notion account"
        }
      }
    },
    {
      "parameters": {
        "content": "Erreur 409 mais ca update quand meme"
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3240,
        1400
      ],
      "typeVersion": 1,
      "id": "9a7e0682-8410-4990-9bba-0dc7b6557ad6",
      "name": "Sticky Note"
    }
  ],
  "pinData": {
    "BookSummary Subworkflow": [
      {
        "json": {
          "pageId": "1bf82fe2-6406-81a3-b0d7-cb54f2d0e53a",
          "data": {
            "query": "Le Cygne noir - Nassim Nicholas Taleb",
            "summaries": [
              {
                "step": 1,
                "summary": [
                  {
                    "modelName": "gpt",
                    "content": "## 1. Informations g√©n√©rales\n\n- **Titre** : Le Cygne noir\n- **Auteur** : Nassim Nicholas Taleb\n- **√âditeur** : Deno√´l (√©dition fran√ßaise, √† confirmer selon la version)\n- **Ann√©e de publication** : 2007\n\n### üìå Contexte historique et intellectuel\n\n> Le Cygne noir s'inscrit dans une r√©flexion critique sur la gestion des risques et l'incertitude, remettant en question les mod√®les pr√©dictifs classiques utilis√©s en finance. Ton ouvrage se positionne dans un contexte intellectuel marqu√© par la remise en cause des approches traditionnelles, en soulignant l'impact majeur d'√©v√©nements rares et impr√©visibles sur l'histoire √©conomique et financi√®re. Cette perspective encourage √† repenser notre approche du risque et √† int√©grer l'impr√©visible dans nos analyses et d√©cisions."
                  },
                  {
                    "modelName": "claude",
                    "content": "## 1. Informations g√©n√©rales  \n\n- **Titre** : Le Cygne noir\n- **Auteur** : Nassim Nicholas Taleb\n- **√âditeur** : Les Belles Lettres\n- **Ann√©e de publication** : 2007\n\n### üìå Contexte historique et intellectuel \nLe Cygne noir s'inscrit dans un contexte post-11 septembre et pr√©-crise financi√®re de 2008, une p√©riode o√π les mod√®les de pr√©vision traditionnels commen√ßaient √† montrer leurs limites. L'ouvrage √©merge dans un climat intellectuel o√π la finance quantitative et les mod√®les math√©matiques sophistiqu√©s dominaient la pens√©e √©conomique et la gestion des risques. Taleb, ancien trader devenu philosophe des probabilit√©s, d√©veloppe une critique fondamentale de notre fa√ßon de penser l'incertitude et les √©v√©nements rares. Son livre arrive √† un moment crucial o√π le monde de la finance et de l'√©conomie commence √† questionner ses certitudes sur la pr√©visibilit√© des march√©s et des √©v√©nements majeurs."
                  }
                ]
              },
              {
                "step": 2,
                "summary": [
                  {
                    "modelName": "gpt",
                    "content": "## 2. Th√®se et objectifs\n\n### ‚ùì Probl√©matique centrale\n> Dans Le Cygne noir, Nassim Nicholas Taleb interroge la mani√®re dont les √©v√©nements rares, impr√©visibles et aux cons√©quences majeures influent sur nos syst√®mes √©conomiques et sociaux, tout en soulignant l'incapacit√© des mod√®les traditionnels √† anticiper de tels √©v√©nements.\n\n### üéØ Objectifs de l‚Äôauteur\n- Proposer une nouvelle perspective qui met en lumi√®re le r√¥le pr√©pond√©rant des √©v√©nements extr√™mes dans la d√©termination des r√©sultats √©conomiques et sociaux.\n- Inciter le lecteur √† repenser la mani√®re dont il √©value les risques et les incertitudes, en adoptant une approche plus sceptique vis-√†-vis des mod√®les pr√©dictifs classiques.\n- Favoriser une prise de conscience sur l‚Äôimportance de l‚Äôanti-fragilit√©, c'est-√†-dire la capacit√© des syst√®mes √† tirer profit de l'incertitude et du chaos."
                  },
                  {
                    "modelName": "claude",
                    "content": "## 2. Th√®se et objectifs  \n\n### ‚ùì Probl√©matique centrale  \nTaleb s'attaque √† notre compr√©hension fondamentale de la causalit√©, du hasard et de notre capacit√© √† pr√©voir l'avenir. La question centrale qu'il pose est : Comment les √©v√©nements hautement improbables et impr√©visibles (les \"Cygnes Noirs\") fa√ßonnent-ils notre monde, et pourquoi sommes-nous si mal √©quip√©s pour les anticiper et les comprendre ?\n\n### üéØ Objectifs de l'auteur  \n- D√©montrer les limites fondamentales de notre capacit√© √† pr√©dire les √©v√©nements majeurs qui influencent nos vies et nos soci√©t√©s\n- D√©construire notre tendance √† rationaliser a posteriori les √©v√©nements impr√©visibles\n- Proposer une nouvelle approche pour vivre dans un monde domin√© par l'incertitude et les √©v√©nements extr√™mes\n- Remettre en question les mod√®les statistiques traditionnels et leur application dans la finance et l'√©conomie\n- Sensibiliser le lecteur √† l'impact disproportionn√© des √©v√©nements rares et impr√©visibles sur l'histoire et nos vies quotidiennes"
                  }
                ]
              },
              {
                "step": 3,
                "summary": [
                  {
                    "modelName": "gpt",
                    "content": "## 3. Structure et arguments\n\n### üìö Plan du livre\n- Le Cygne Noir est organis√© en plusieurs parties, chacune servant √† construire progressivement l'argumentation sur l'impact des √©v√©nements impr√©vus sur notre compr√©hension du monde.\n- Le livre d√©bute par la d√©finition et l'illustration du concept de ¬´ Cygne Noir ¬ª afin d'introduire l'id√©e que certains √©v√©nements rares et inattendus peuvent avoir des cons√©quences majeures.\n- La progression se poursuit en d√©construisant les mod√®les pr√©dictifs traditionnels, en illustrant leur inad√©quation face aux √©v√©nements extr√™mes.\n- Enfin, l'ouvrage conclut sur les implications pratiques de cette prise de conscience, invitant le lecteur √† repenser la mani√®re dont il √©value les risques et anticipe l'avenir.\n\n### üîë Points cl√©s\n- La distinction entre deux mondes : *M√©diocristan* (o√π les distributions sont pr√©visibles et les variations minuscules) et *Extr√©mistan* (o√π des √©v√©nements rares peuvent avoir des cons√©quences √©normes).\n- L'importance de reconna√Ætre l'impr√©visibilit√© inh√©rente aux syst√®mes complexes et d'adapter notre approche de la prise de d√©cision en cons√©quence.\n- La critique des mod√®les statistiques et √©conomiques classiques qui ne tiennent pas compte de l'impact disproportionn√© des √©v√©nements extr√™mes.\n- L'enjeu de remettre en question notre compr√©hension habituelle du risque et de la probabilit√©, pour int√©grer des √©l√©ments d'incertitude extr√™me dans nos analyses."
                  },
                  {
                    "modelName": "claude",
                    "content": "## 3. Structure et arguments\n\n### üìö Plan du livre\nLe livre est structur√© en quatre parties principales :\n- **Premi√®re partie** : Introduction aux biais cognitifs et √† notre incapacit√© √† pr√©voir les Cygnes Noirs\n- **Deuxi√®me partie** : Comment nous ne pouvons pas pr√©dire l'extr√™me dans Extremistan\n- **Troisi√®me partie** : Les Cygnes Gris - exploration des biais de confirmation\n- **Quatri√®me partie** : Applications pratiques et conclusion sur l'√©pist√©mologie\n\n### üîë Points cl√©s\n- **La th√©orie du Cygne Noir** : √âv√©nements rares, extr√™mement impactants et pr√©visibles uniquement r√©trospectivement\n- **M√©diocristan vs Extremistan** : Distinction entre deux types de domaines o√π les √©v√©nements suivent des distributions diff√©rentes\n- **L'illusion narrative** : Notre tendance √† cr√©er des histoires coh√©rentes pour expliquer les √©v√©nements pass√©s\n- **L'empirisme sceptique** : Approche philosophique pour g√©rer l'incertitude\n- **L'anti-fragilit√©** : Concept cl√© sur la capacit√© √† b√©n√©ficier du chaos et de l'incertitude\n- **La platonicit√©** : Notre tendance √† simplifier la r√©alit√© dans des mod√®les th√©oriques trompeurs"
                  }
                ]
              },
              {
                "step": 4,
                "summary": [
                  {
                    "modelName": "gpt",
                    "content": "## 4. M√©thodologie et preuves\n\n### üìñ Sources et exemples utilis√©s\nL‚Äôauteur s‚Äôappuie sur une analyse d√©taill√©e des √©v√©nements historiques et sur des √©tudes de cas issus du monde de la finance et de l‚Äô√©conomie. Dans *Le Cygne Noir*, Taleb utilise notamment des exemples marquants tels que la crise financi√®re de 2008 pour illustrer l‚Äô√©chec des mod√®les pr√©dictifs traditionnels face √† des √©v√©nements rares et impr√©vus.\n\n> ¬´ Les mod√®les traditionnels de pr√©vision ne prennent pas suffisamment en compte l‚Äôimpact des √©v√©nements improbables, pourtant d√©vastateurs. ¬ª\n\n### üîç Analyse critique\n- **Conviction des arguments** : Les arguments de Taleb sont percutants et incitent √† remettre en question les approches statistiques classiques. Son analyse, fond√©e sur des faits historiques concrets, force le lecteur √† consid√©rer l‚Äôincertitude comme un √©l√©ment central dans l‚Äôanalyse des risques.\n- **Biais et lacunes** : Bien que sa critique soit pertinente, certains reproches pointent du doigt une tendance √† l‚Äôexag√©ration et un manque de propositions concr√®tes pour pallier les failles des mod√®les existants.\n- **√âl√©ments contestables** : La g√©n√©ralisation de certaines conclusions peut para√Ætre excessive, surtout lorsqu‚Äôelle est appliqu√©e √† des contextes qui ne se pr√™tent pas toujours aux m√™mes logiques.\n"
                  },
                  {
                    "modelName": "claude",
                    "content": "## 4. M√©thodologie et preuves  \n\n### üìñ Sources et exemples utilis√©s\nTaleb s'appuie sur une combinaison rigoureuse de :\n- √âv√©nements historiques majeurs (crash boursier de 1987, attentats du 11 septembre, crise de 2008)\n- Analyses math√©matiques et statistiques approfondies\n- Exemples tir√©s de domaines vari√©s : finance, histoire, science, technologie\n- R√©f√©rences philosophiques (notamment sto√Øcienne) et litt√©raires\n- Exp√©riences personnelles en tant que trader et analyste quantitatif\n\nIl utilise particuli√®rement la m√©thode du contre-exemple pour d√©montrer les failles des mod√®les probabilistes classiques et illustre ses propos par des m√©taphores percutantes (la dinde de Thanksgiving, le cygne noir).\n\n### üîç Analyse critique\n\n**Points forts:**\n- Argumentation solide bas√©e sur des preuves empiriques\n- Approche multidisciplinaire qui renforce la cr√©dibilit√©\n- D√©monstration math√©matique rigoureuse des limites des mod√®les gaussiens\n- Exemples concrets et accessibles qui illustrent des concepts complexes\n\n**Limites et points contestables:**\n- Ton parfois pol√©mique et agressif envers certains experts\n- Tendance √† la r√©p√©tition et √† l'emphase excessive\n- Manque relatif de solutions pratiques face aux probl√®mes soulev√©s\n- Certains critiques pointent une possible surestimation de la fr√©quence des √©v√©nements 'cygne noir'\n- La subjectivit√© de l'auteur transpara√Æt parfois dans l'analyse des exemples"
                  }
                ]
              },
              {
                "step": 5,
                "summary": [
                  {
                    "modelName": "gpt",
                    "content": "## 5. Implications et applications pratiques\n\n### üåç Impact des id√©es\nLe livre met en avant l'importance de repenser la gestion des risques dans un monde domin√© par l'incertitude et les √©v√©nements impr√©vus. Dans le contexte √©conomique comme dans la vie quotidienne, l'approche de Taleb invite √† :\n- Revoir les strat√©gies d'investissement en int√©grant l'¬´ anti-fragilit√© ¬ª qui consiste √† se pr√©parer non pas uniquement aux risques pr√©visibles, mais aussi √† ceux qui sortent des cadres classiques.\n- Encourager une approche plus prudente et r√©siliente dans les d√©marches entrepreneuriales, notamment en √©vitant une surd√©pendance aux mod√®les probabilistes traditionnels.\n- Adapter les politiques publiques et la gestion des crises en tenant compte de la possibilit√© d'√©v√©nements improbables aux cons√©quences majeures.\n\n### üîÑ Comparaison avec d‚Äôautres approches\nLe Cygne noir se distingue ainsi par une remise en question des mod√®les pr√©dictifs classiques. En comparaison :\n- D'autres th√©ories √©conomiques continuent de s'appuyer sur des mod√®les statistiques habituels qui minimisent l'impact des √©v√©nements rares, tandis que Taleb insiste sur le r√¥le crucial de ces exceptions.\n- Certains auteurs pr√¥nent une approche plus optimiste ou contr√¥l√©e de la prise de risque, contrastant avec l'argument de Taleb qui appelle √† accepter l'incertitude comme un √©l√©ment inh√©rent et in√©vitable de nos syst√®mes.\n- L'≈ìuvre compl√©mente des concepts comme l'innovation radicale ou la disruption, qui, tout en valorisant le changement, n'int√®grent pas toujours la dimension de chaos et d'impr√©visibilit√© sur le long terme.\n\nEn r√©sum√©, l'ouvrage offre une vision qui remet en cause les fondements des strat√©gies de gestion du risque et invite √† adopter une posture plus critique et adaptable face √† un environnement par nature incertain."
                  },
                  {
                    "modelName": "claude",
                    "content": "## 5. Implications et applications pratiques\n\n### üåç Impact des id√©es\nLes concepts du Cygne Noir ont des implications profondes dans de nombreux domaines :\n- En finance : Adopter des strat√©gies d'investissement qui prot√®gent contre les √©v√©nements extr√™mes plut√¥t que de se fier aux mod√®les probabilistes classiques\n- En entrepreneuriat : Cr√©er des entreprises \"antifragiles\" capables de b√©n√©ficier de l'incertitude plut√¥t que d'en souffrir\n- En gestion des risques : Privil√©gier la robustesse et la redondance plut√¥t que l'optimisation excessive\n- En prise de d√©cision : Rester humble face √† notre incapacit√© √† pr√©dire l'avenir et garder une marge de s√©curit√©\n\n### üîÑ Comparaison avec d'autres approches\n- Contraste avec la th√©orie √©conomique classique qui suppose que les march√©s sont efficaces et les risques quantifiables\n- Opposition aux m√©thodes de gestion des risques bas√©es sur la distribution normale (courbe en cloche)\n- Rejoint certaines id√©es de Mandelbrot sur les fractales et les √©v√©nements extr√™mes\n- S'inscrit dans la lign√©e des penseurs critiques de l'√©conomie conventionnelle comme Hayek et sa th√©orie de l'ordre spontan√©\n\nLes id√©es de Taleb se distinguent par leur radicalit√© et leur remise en question fondamentale des mod√®les pr√©dictifs traditionnels, proposant une approche plus prudente et consciente de nos limites cognitives."
                  }
                ]
              },
              {
                "step": 6,
                "summary": [
                  {
                    "modelName": "gpt",
                    "content": "## 6. R√©flexion personnelle\n\n### üí° Impressions et questionnements\nDans ¬´ Le Cygne noir ¬ª, Nassim Nicholas Taleb nous confronte √† une vision du monde o√π l‚Äôimpr√©visible et l‚Äôextr√™me jouent un r√¥le central. Ce qui m‚Äôa particuli√®rement marqu√©, c‚Äôest la force avec laquelle l‚Äôauteur d√©construit les mod√®les de pr√©visibilit√© traditionnelle, invitant √† une remise en question de nos certitudes. Le livre, √† la fois provocateur et √©clairant, suscite des interrogations sur notre capacit√© √† anticiper l‚Äôavenir et sur l‚Äôinfluence des √©v√©nements rares dans nos vies quotidiennes. Sa perspective, parfois radicale, pousse √† r√©fl√©chir sur l‚Äôimportance d‚Äôint√©grer l‚Äôincertitude dans nos d√©cisions personnelles et professionnelles.\n\n### üèÜ Pertinence personnelle\nAu niveau personnel, ¬´ Le Cygne noir ¬ª m‚Äôincite √† adopter une approche plus prudente face aux risques et √† valoriser une pens√©e critique par rapport aux mod√®les √©conomiques et pr√©dictifs conventionnels. L‚Äôouvrage me pousse √† questionner la fiabilit√© des m√©thodes traditionnelles et √† envisager des strat√©gies de vie et d‚Äôinvestissement qui prennent en compte l‚Äôimpr√©vu. Il m‚Äôencourage √† d√©velopper une r√©silience face aux incertitudes, renfor√ßant ainsi ma capacit√© √† naviguer dans un environnement en constante √©volution."
                  },
                  {
                    "modelName": "claude",
                    "content": "## 6. R√©flexion personnelle  \n\n### üí° Impressions et questionnements  \nLe Cygne Noir est un ouvrage profond√©ment d√©stabilisant qui remet en question notre fa√ßon de percevoir le monde et les √©v√©nements. La mani√®re dont Taleb d√©construit nos certitudes sur la pr√©visibilit√© et notre capacit√© √† anticiper l'avenir est particuli√®rement marquante. Son style provocateur et sans concession, bien qu'parfois pol√©mique, force √† la r√©flexion et √† l'humilit√© intellectuelle.\n\nCe qui impressionne particuli√®rement est sa capacit√© √† d√©montrer comment notre biais r√©trospectif nous fait croire que nous aurions pu pr√©voir des √©v√©nements majeurs, alors qu'en r√©alit√© leur nature m√™me les rend impr√©visibles. La notion d'incertitude radicale qu'il d√©veloppe est √† la fois fascinante et inconfortable.\n\n### üèÜ Pertinence personnelle  \nLa lecture de cet ouvrage transforme profond√©ment notre rapport au risque et √† l'incertitude. Elle nous pousse √† :\n- Adopter une posture plus humble face √† nos capacit√©s de pr√©diction\n- Remettre en question notre confiance excessive dans les experts et les mod√®les\n- D√©velopper des strat√©gies pour devenir plus \"antifragile\" face aux √©v√©nements impr√©vus\n- √ätre plus attentif aux signaux faibles et aux possibilit√©s de rupture\n\nCette nouvelle perspective influence directement la fa√ßon d'aborder la prise de d√©cision, que ce soit dans un contexte professionnel ou personnel, en nous encourageant √† nous pr√©parer √† l'impr√©vu plut√¥t que de tenter vainement de le pr√©dire."
                  }
                ]
              },
              {
                "step": 7,
                "summary": [
                  {
                    "modelName": "gpt",
                    "content": "## 7. Conclusion et synth√®se\n\n### üîÅ R√©capitulatif des id√©es essentielles\nDans ¬´ Le Cygne noir ¬ª, Taleb nous invite √† repenser notre perception du risque et de l'incertitude en soulignant l'impact disproportionn√© des √©v√©nements rares. L'auteur rappelle la faillibilit√© des mod√®les pr√©dictifs classiques en illustrant comment des ¬´ cygnes noirs ¬ª ‚Äì impr√©visibles et extr√™mes ‚Äì peuvent remodeler l'√©conomie et notre vision du monde.\n\n### üåü Ouverture\n- Ce livre est crucial pour qui souhaite comprendre la fragilit√© des syst√®mes modernes face aux impr√©vus, ouvrant ainsi le d√©bat sur l'importance de l'anti-fragilit√©.\n- Il incite √† une r√©flexion plus large sur la capacit√© des individus et des institutions √† s'adapter √† l'inattendu en adoptant des strat√©gies r√©silientes.\n- Pour approfondir ces notions, des lectures compl√©mentaires comme ¬´ Antifragile ¬ª de Taleb ou des ouvrages sur la gestion du risque et l'incertitude peuvent s'av√©rer tr√®s enrichissantes."
                  },
                  {
                    "modelName": "claude",
                    "content": "## 7. Conclusion et synth√®se\n\n### üîÅ R√©capitulatif des id√©es essentielles\nLe Cygne Noir r√©volutionne notre compr√©hension des √©v√©nements rares et de leur impact. Taleb d√©montre magistralement que notre monde est domin√© par l'impr√©visible et l'extr√™me, plut√¥t que par la moyenne et le pr√©visible. Les points essentiels sont:\n- L'impossibilit√© de pr√©dire les √©v√©nements √† fort impact\n- La fragilit√© des mod√®les de pr√©vision traditionnels\n- L'importance de construire des syst√®mes anti-fragiles\n- La distinction fondamentale entre M√©diocristan et Extr√™mistan\n\n### üåü Ouverture\nL'importance du Cygne Noir dans le domaine de la gestion des risques et de la prise de d√©cision est fondamentale. Il a profond√©ment influenc√© la pens√©e √©conomique et financi√®re post-2008. Ce livre ouvre une r√©flexion cruciale sur notre rapport √† l'incertitude et notre capacit√© √† naviguer dans un monde de plus en plus complexe et interconnect√©.\n\nPour approfondir ces concepts, les lecteurs pourront se tourner vers:\n- 'Antifragile' du m√™me auteur\n- 'Thinking, Fast and Slow' de Daniel Kahneman\n- 'The Black Swan: Second Edition' qui inclut un essai sur la robustesse et la fragilit√©"
                  }
                ]
              }
            ]
          },
          "jobType": "report"
        }
      }
    ]
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 2,
  "updatedAt": "2025-03-23T15:44:55.000Z",
  "versionId": "9f8af94e-92e9-407e-ab25-b5fd37307e2e"
}